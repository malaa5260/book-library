<div class="search-container">
    <mat-form-field appearance="fill">
        <mat-label>Search for books</mat-label>
        <input matInput placeholder="Search for books" name="searchTerm" [(ngModel)]="searchTerm"
            (keyup)="onSearch()" />
    </mat-form-field>
    <div class="text-end">
        <button mat-raised-button color="primary" (click)="clearSearch()">Clear</button>
    </div>
    @if (isLoading) {
    <div class="spinner-container">
        <mat-spinner></mat-spinner>
    </div>
    }
    @if(books.length > 0){
    <div class="search-results">
        @for (book of books; track book.key) {
        <div class="book-item">
            <img [src]="book.cover_id ? 'https://covers.openlibrary.org/b/id/' + book.cover_id + '-M.jpg' : defaultCover"
                alt="Book Cover" class="book-cover" />
            <p>{{ book.title }}</p>
        </div>
        }
    </div>
    }
    @if(!isLoading &&(books.length === 0 && searchTerm)){
    <p>No books found for "{{ searchTerm }}"</p>
    }
</div>